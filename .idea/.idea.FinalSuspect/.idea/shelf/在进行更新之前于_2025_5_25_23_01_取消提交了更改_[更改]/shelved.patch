Index: FinalSuspect/DataHandling/FinalAntiCheat/Core/DllChecker.cs
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>using System;\r\nusing System.IO;\r\nusing System.Reflection;\r\n\r\nnamespace FinalSuspect.DataHandling.FinalAntiCheat.Core;\r\n\r\n[HarmonyPatch(typeof(MainMenuManager), nameof(MainMenuManager.Start))]\r\npublic static class DllChecker\r\n{\r\n    private static void Prefix(MainMenuManager __instance)\r\n    {\r\n        // SM的文件名是写死的\r\n        string[] SuspiciousFiles = { \"SickoMenu.dll\", \"version.dll\" };\r\n        // 获取当前Dll启动目录\r\n        string DirectoryPath = Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location);\r\n        // 获取游戏根目录\r\n        string AmongUsPath = Environment.CurrentDirectory;\r\n        // 针对基于BepInEx注入检测\r\n        foreach (string path in Directory.EnumerateFiles(DirectoryPath, \"*.*\"))\r\n        {\r\n            string fileName = Path.GetFileName(path);\r\n\r\n            if (fileName != \"FinalSuspect.dll\")\r\n            {\r\n                Error($\"检测到非法文件: {fileName}！游戏将被强制终止。\", \"FAC\");\r\n                Environment.Exit(1);\r\n            }\r\n        }\r\n\r\n        // 针对基于version注入检测\r\n        foreach (string fileName in SuspiciousFiles)\r\n        {\r\n            string fullPath = Path.Combine(AmongUsPath, fileName);\r\n\r\n            if (File.Exists(fullPath))\r\n            {\r\n                Error($\"检测到非法/模组文件: {fileName}！游戏将被强制终止。\", \"FAC\");\r\n                Environment.Exit(1);\r\n            }\r\n        }\r\n    }\r\n    public static void Init()\r\n    {\r\n        // 什么都不干，只是让main.cs有个引用防止被反编译大蛇删除\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/FinalSuspect/DataHandling/FinalAntiCheat/Core/DllChecker.cs b/FinalSuspect/DataHandling/FinalAntiCheat/Core/DllChecker.cs
--- a/FinalSuspect/DataHandling/FinalAntiCheat/Core/DllChecker.cs	(revision 388ca589ce231dad396342d27fb3ecfe630c73a0)
+++ b/FinalSuspect/DataHandling/FinalAntiCheat/Core/DllChecker.cs	(date 1748185296722)
@@ -1,6 +1,7 @@
 using System;
 using System.IO;
 using System.Reflection;
+using BepInEx.Unity.IL2CPP;
 
 namespace FinalSuspect.DataHandling.FinalAntiCheat.Core;
 
@@ -44,3 +45,9 @@
         // 什么都不干，只是让main.cs有个引用防止被反编译大蛇删除
     }
 }
+
+[HarmonyPatch(typeof(BasePlugin), nameof(BasePlugin.Load))]
+public static class Disable
+{
+    
+}
